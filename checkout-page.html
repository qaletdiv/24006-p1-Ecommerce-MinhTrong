<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHECK-OUT PAGE || EduPress</title>

    <!-- favicon -->
    <link rel="icon" type="image/png" href="./assets/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="./assets/favicon/favicon.svg" />
    <link rel="shortcut icon" href="./assets/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Exo:ital,wght@0,100..900;1,100..900&family=Jost:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

    <!-- styles -->
    <link rel="stylesheet" href="./assets/css/main.css">

    <!-- Scripts -->
    <script src="./assets/js/scripts.js"></script>
</head>

<body>
    <header id="header" class="header"></header>
    <script>
        load("#header", "./template/header.html", () => {
            const userContainer = document.querySelector(".top-actions__user")
            const btnForm = document.getElementsByClassName("top-actions__user-btn")
            const renderUser = () => {
                Array.from(btnForm).forEach(btn => {
                    btn.style.display = "none";
                })

                const user = JSON.parse(localStorage.getItem("currentUser"))

                if (user) {
                    userContainer.innerHTML = `
                    <p class="top-actions__user-email">
                        <div class="dropdown">
                            <h3 class="dropdown__user">
                                <a href="./profile.html">
                                    ${user.email}
                                </a>
                            </h3>
                            <ul class="dropdown__menu">
                                <li class="dropdown__item">
                                <a href="./profile.html" class="dropdown__link">My Profile</a>
                                </li>
                                <li class="dropdown__item">
                                <a href="./my-course.html" class="dropdown__link">My Course</a>
                                </li>
                                <li class="dropdown__item">
                                <a href="/" class="dropdown__link dropdown__logout">Logout</a>
                                </li>
                            </ul>
                        </div>
                    </p>
                    `
                } else {
                    Array.from(btnForm).forEach(btn => {
                        btn.style.display = "block";
                    })
                }

                function handleLogout() {
                    const dropdownLogout = document.querySelector(".dropdown__logout")

                    dropdownLogout.addEventListener("click", (e) => {
                        e.preventDefault();
                        localStorage.removeItem("currentUser");
                        window.location.href = "/sign-in.html";
                    })
                }

                handleLogout();
            }

            renderUser()
        })
    </script>

    <aside class="sidebar">
        <div class="sidebar__header">
            <div class="sidebar__logo">
                <a href="./index.html">
                    <img src="./assets/icons/logo.svg" alt="">
                </a>
                <h2 class="sidebar__logo-title">EduPress</h2>

            </div>

            <div class="sidebar__user">

                <div class="sidebar__user-avatar">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/44e1879c-9ff1-493f-8042-23f8a3be2184.png"
                        alt="User profile picture" width="100%" height="100%">
                </div>

                <div class="sidebar__user-info">
                    <p class="sidebar__user-title">Nguyễn Văn A</p>
                    <p class="sidebar__user-title">nguyenvana@email.com</p>
                </div>
            </div>
        </div>

        <div class="line"></div>

        <nav class="sidebar__nav">
            <ul class="sidebar__menu">
                <li class="sidebar__menu-item">
                    <a href="./index.html" class="sidebar__menu-link sidebar__menu-link--active">
                        Home
                    </a>
                </li>
                <li class="sidebar__menu-item">
                    <a href="./courses.html" class="sidebar__menu-link sidebar__menu-link--active">
                        Course
                    </a>
                </li>
                <li class="sidebar__menu-item">
                    <a href="./blog.html" class="sidebar__menu-link sidebar__menu-link--active">
                        Blog
                    </a>
                </li>
                <li class="sidebar__menu-item">
                    <a href="contact.html" class="sidebar__menu-link sidebar__menu-link--active">
                        Contact
                    </a>
                </li>
                <li class="sidebar__menu-item">
                    <a href="./my-course.html" class="sidebar__menu-link sidebar__menu-link--active">
                        My Course
                    </a>
                </li>
            </ul>

            <div class="sidebar__btn">
                <button class="btn btn--primary sidebar__btn-group">
                    <a href="./sign-in.html">
                        Sign In
                    </a>
                </button>
                <button class="btn btn--primary sidebar__btn-group">
                    <a href="./sign-up.html">
                        Sign Up
                    </a>
                </button>
            </div>
        </nav>
    </aside>

    <main class="checkout container">
        <div class="checkout__header">
            <h1 class="checkout__header-title">Thanh toán khóa học</h1>
            <div class="checkout__header-steps">
                <div class="checkout__header-steps-item">
                    <div class="checkout__header-steps-item-number checkout__header-steps-item-number--active">1</div>
                    <div class="checkout__header-steps-item-label checkout__header-steps-item-label--active">Thông tin
                        thanh toán</div>
                </div>
            </div>
        </div>

        <div class="checkout__main">
            <section class="checkout__main-section checkout__main-section--payment-methods">
                <h2 class="checkout__main-section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
                    </svg>
                    Phương thức thanh toán
                </h2>
                <div class="checkout__main-section-list">
                    <div class="checkout__main-section-list-item ">
                        <img src="./assets/img/checkout/credit-card.png" alt="Credit card payment method">
                        <div class="checkout__main-section-list-item-label">Thẻ tín dụng/ghi nợ</div>
                        <img src="./assets/icons/check-icon.svg" alt="" class="checkout__unchecked">
                    </div>
                    <div class="checkout__main-section-list-item">
                        <img src="./assets/img/checkout/payment.png" alt="Bank transfer payment method">
                        <div class="checkout__main-section-list-item-label">Chuyển khoản ngân hàng</div>
                        <img src="./assets/icons/check-icon.svg" alt="" class="checkout__unchecked">
                    </div>
                    <div class="checkout__main-section-list-item">
                        <img src="./assets/img/checkout/momo.png    " alt="Momo e-wallet payment method">
                        <div class="checkout__main-section-list-item-label">Ví điện tử Momo</div>
                        <img src="./assets/icons/check-icon.svg" alt="" class="checkout__unchecked">
                    </div>
                </div>
            </section>

            <section class="checkout__main-section checkout__main-section--billing-info">
                <h2 class="checkout__main-section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                    Thông tin thanh toán
                </h2>
                <form id="checkout-form" class="checkout__main-section-form">
                    <div class="checkout__main-section-form-group">
                        <label for="firstName">Họ</label>
                        <input type="text" id="firstName" placeholder="Nhập họ của bạn">
                    </div>
                    <div class="checkout__main-section-form-group">
                        <label for="lastName">Tên</label>
                        <input type="text" id="lastName" placeholder="Nhập tên của bạn" required>
                    </div>
                    <div class="checkout__main-section-form-group checkout__main-section-form-group--full">
                        <label for="email">Email</label>
                        <input type="email" id="email" placeholder="Nhập email của bạn" required
                            pattern="^[a-zA-Z0-9._%+-]+@gmail\.com$"
                            title="Email phải đúng định dạng và có đuôi @gmail.com">
                    </div>
                    <div class="checkout__main-section-form-group checkout__main-section-form-group--full">
                        <label for="phone">Số điện thoại</label>
                        <input type="tel" id="phone" placeholder="Nhập số điện thoại của bạn" required>
                    </div>
                    <div class="checkout__main-section-form-group checkout__main-section-form-group--full">
                        <label for="address">Địa chỉ</label>
                        <input type="text" id="address" placeholder="Nhập địa chỉ của bạn" required>
                    </div>
                    <div class="checkout__main-section-form-group">
                        <label for="city">Thành phố</label>
                        <select id="city" required>
                            <option value="">Chọn thành phố</option>
                            <option value="hanoi">Hà Nội</option>
                            <option value="hcm">TP. Hồ Chí Minh</option>
                            <option value="danang">Đà Nẵng</option>
                        </select>
                    </div>
                    <div class="checkout__main-section-form-group">
                        <label for="district">Quận/Huyện</label>
                        <input type="text" id="district" placeholder="Nhập quận/huyện" required>
                    </div>
                </form>
            </section>

            <section class="checkout__main-section checkout__main-section--coupon">
                <h2 class="checkout__main-section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" />
                    </svg>
                    Mã giảm giá
                </h2>
                <div class="checkout__main-section-coupon">
                    <input type="text" placeholder="Nhập mã giảm giá">
                    <button type="button">Áp dụng</button>
                </div>
            </section>
        </div>

        <aside class="checkout__sidebar">
            <div class="checkout__sidebar-summary">
                <h2 class="checkout__sidebar-summary-title">Tổng đơn hàng</h2>

                <div class="checkout__sidebar-summary-course">
                    <div class="checkout__sidebar-summary-course-image">
                        <img src="./assets/img/course/course-item-2.png"
                            alt="Course thumbnail for React Advanced Course">
                    </div>
                    <div class="checkout__sidebar-summary-course-info">
                        <h2 class="checkout__sidebar-summary-course-info-name">React Advanced - Xây dựng ứng dụng
                            chuyên nghiệp</h2>
                        <p class="checkout__sidebar-summary-course-info-instructor">Giảng viên: Nguyễn Văn A</p>
                    </div>
                </div>

                <div id="price" class="checkout__sidebar-summary-price">
                    <span>Giá gốc:</span>
                    <span>3.500.000₫</span>
                </div>

                <div id="discount" class="checkout__sidebar-summary-price">
                    <span>Giảm giá:</span>
                    <span>-500.000₫</span>
                </div>

                <div id="total" class="checkout__sidebar-summary-price checkout__sidebar-summary-price--total">
                    <span>Tổng cộng:</span>
                    <span>3.000.000₫</span>
                </div>

                <button type="submit" form="checkout-form" class="checkout__sidebar-summary-button">Hoàn tất thanh
                    toán</button>

                <div class="checkout__sidebar-summary-guarantee">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                    <span>Đảm bảo hoàn tiền trong 30 ngày nếu không hài lòng</span>
                </div>
            </div>

            <div class="checkout__sidebar-support">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
                <h3 class="checkout__sidebar-support-title">Cần hỗ trợ?</h3>
                <p class="checkout__sidebar-support-text">Chúng tôi luôn sẵn sàng hỗ trợ bạn trong suốt quá trình thanh
                    toán</p>
                <a href="#" class="checkout__sidebar-support-link">
                    <span>Liên hệ ngay</span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </a>
            </div>
        </aside>
    </main>

    <div id="popup" class="popup">
        <div class="popup__content">
            <p>Thanh toán thành công!</p>
            <button class="popup-btn">Xem Khóa Học</button>
        </div>
    </div>

    <footer id="footer"></footer>
    <script>
        load("#footer", "./template/footer.html")
    </script>
    <script src="./assets/js/sidebar.js"></script>
    <script src="./assets/js/checkout.js"></script>


</body>

</html>